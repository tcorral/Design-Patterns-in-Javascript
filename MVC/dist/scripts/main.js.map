{"version":3,"sources":["node_modules/browser-pack/_prelude.js","main.js","MVC/scripts/FakeAjaxCall.js","MVC/scripts/ListController.js","MVC/scripts/ListView.js","MVC/scripts/TodoModel.js","MVC/scripts/jquery.js","MVC/scripts/main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_jquery","_jquery2","ajax","config","Promise","resolve","reject","url","text","done","id","./jquery",2,"_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","ListController","view","model","this","_this","all","then","items","html","forEach","item","index","className","innerHTML","on","event","element","completeItem","undoItem","error","handleError","message",3,"ListView",4,"_FakeAjaxCall","_FakeAjaxCall2","TodoModel","push","type","data","xhr","status","responseText","./FakeAjaxCall",5,"window","jQuery",6,"_ListView","_ListView2","_TodoModel","_TodoModel2","_ListController","_ListController2","oListView","document","getElementById","oTodoModel","oListController","init","./ListController","./ListView","./TodoModel"],"mappings":"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","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _jquery = require('./jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_jquery2.default.ajax = function (config) {\n  return new Promise(function (resolve, reject) {\n    switch (config.url) {\n      case \"/todo-items/add\":\n        resolve([{\n          text: 'Test 1',\n          done: false,\n          id: 1\n        }, {\n          text: 'Test 2',\n          done: false,\n          id: 2\n        }, {\n          text: 'Test 3',\n          done: true,\n          id: 3\n        }]);\n        break;\n      case \"/todo-items\":\n        resolve([{\n          text: 'Test 1',\n          done: false,\n          id: 1\n        }, {\n          text: 'Test 2',\n          done: false,\n          id: 2\n        }, {\n          text: 'Test 3',\n          done: true,\n          id: 3\n        }]);\n        break;\n      case \"/todo-items/undo\":\n        resolve([{\n          text: 'Test 1',\n          done: false,\n          id: 1\n        }, {\n          text: 'Test 2',\n          done: false,\n          id: 2\n        }, {\n          text: 'Test 3',\n          done: false,\n          id: 3\n        }]);\n        break;\n      case \"/todo-items/complete\":\n        resolve([{\n          text: 'Test 1',\n          done: true,\n          id: 1\n        }, {\n          text: 'Test 2',\n          done: true,\n          id: 2\n        }, {\n          text: 'Test 3',\n          done: true,\n          id: 3\n        }]);\n        break;\n    }\n  });\n};\n\nexports.default = _jquery2.default;\n\n},{\"./jquery\":5}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = require('./jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ListController = function () {\n  function ListController(view, model) {\n    _classCallCheck(this, ListController);\n\n    this.view = view;\n    this.model = model;\n  }\n\n  _createClass(ListController, [{\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      this.model.all().then(function (items) {\n        var html = '';\n\n        items.forEach(function (item, index) {\n          var className = item.done ? 'done' : 'todo';\n          html += '<li class=\"' + className + '\" id=\"item_' + index + '\">' + item.text + '</li>';\n        });\n\n        _this.view.innerHTML = html;\n        (0, _jquery2.default)(_this.view).on('click', '.todo', function (event) {\n          var element = event.target;\n          _this.model.completeItem(element.id).then(function () {\n            element.className = 'done';\n          });\n        }).on('click', '.done', function (event) {\n          var element = event.target;\n          _this.model.undoItem(element.id).then(function () {\n            element.className = 'todo';\n          });\n        });\n      }, function (error) {\n        _this.handleError('Server failed to get todo items', error);\n      });\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(message) {\n      var className = 'error';\n      this.view.innerHTML += '<li class=\"' + className + '\">' + message + '</li>';\n    }\n  }]);\n\n  return ListController;\n}();\n\nexports.default = ListController;\n\n},{\"./jquery\":5}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ListView = function ListView(element) {\n  _classCallCheck(this, ListView);\n\n  return element;\n};\n\nexports.default = ListView;\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _FakeAjaxCall = require('./FakeAjaxCall');\n\nvar _FakeAjaxCall2 = _interopRequireDefault(_FakeAjaxCall);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TodoModel = function () {\n  function TodoModel() {\n    _classCallCheck(this, TodoModel);\n\n    this.items = [];\n  }\n\n  _createClass(TodoModel, [{\n    key: 'add',\n    value: function add(item) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        _this.items.push({\n          text: item,\n          done: false,\n          id: _this.items.length\n        });\n\n        _FakeAjaxCall2.default.ajax({\n          url: '/todo-items/add',\n          type: 'POST'\n        }).then(function (data) {\n          resolve(data);\n        }, function (xhr) {\n          reject({ message: xhr.status + \": \" + xhr.responseText });\n        });\n      });\n    }\n  }, {\n    key: 'all',\n    value: function all() {\n      return new Promise(function (resolve, reject) {\n        _FakeAjaxCall2.default.ajax({\n          url: '/todo-items'\n        }).then(function (data) {\n          resolve(data);\n        }, function (xhr) {\n          reject({ message: xhr.status + \": \" + xhr.responseText });\n        });\n      });\n    }\n  }, {\n    key: 'undoItem',\n    value: function undoItem(id) {\n      return new Promise(function (resolve, reject) {\n        _FakeAjaxCall2.default.ajax({\n          url: '/todo-items/undo',\n          type: 'POST'\n        }).then(function (data) {\n          resolve(data);\n        }, function (xhr) {\n          reject({ message: xhr.status + \": \" + xhr.responseText });\n        });\n      });\n    }\n  }, {\n    key: 'completeItem',\n    value: function completeItem(id) {\n      return new Promise(function (resolve, reject) {\n        _FakeAjaxCall2.default.ajax({\n          url: '/todo-items/complete',\n          type: 'POST'\n        }).then(function (data) {\n          resolve(data);\n        }, function (xhr) {\n          reject({ message: xhr.status + \": \" + xhr.responseText });\n        });\n      });\n    }\n  }]);\n\n  return TodoModel;\n}();\n\nexports.default = TodoModel;\n\n},{\"./FakeAjaxCall\":1}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = window.jQuery;\n;\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nvar _ListView = require('./ListView');\n\nvar _ListView2 = _interopRequireDefault(_ListView);\n\nvar _TodoModel = require('./TodoModel');\n\nvar _TodoModel2 = _interopRequireDefault(_TodoModel);\n\nvar _ListController = require('./ListController');\n\nvar _ListController2 = _interopRequireDefault(_ListController);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar oListView = new _ListView2.default(document.getElementById(\"results\"));\nvar oTodoModel = new _TodoModel2.default();\nvar oListController = new _ListController2.default(oListView, oTodoModel);\n\noListController.init();\n\n},{\"./ListController\":2,\"./ListView\":3,\"./TodoModel\":4}]},{},[6])\n\n","import $ from './jquery';\n\n$.ajax =  function(config) {\n  return new Promise((resolve, reject) => {\n    switch (config.url) {\n      case \"/todo-items/add\":\n        resolve([\n          {\n            text: 'Test 1',\n            done: false,\n            id: 1\n          },\n          {\n            text: 'Test 2',\n            done: false,\n            id: 2\n          },\n          {\n            text: 'Test 3',\n            done: true,\n            id: 3\n          }\n        ]);\n        break;\n      case \"/todo-items\":\n        resolve([\n          {\n            text: 'Test 1',\n            done: false,\n            id: 1\n          },\n          {\n            text: 'Test 2',\n            done: false,\n            id: 2\n          },\n          {\n            text: 'Test 3',\n            done: true,\n            id: 3\n          }\n        ]);\n        break;\n      case \"/todo-items/undo\":\n        resolve([\n          {\n            text: 'Test 1',\n            done: false,\n            id: 1\n          },\n          {\n            text: 'Test 2',\n            done: false,\n            id: 2\n          },\n          {\n            text: 'Test 3',\n            done: false,\n            id: 3\n          }\n        ]);\n        break;\n      case \"/todo-items/complete\":\n        resolve([\n          {\n            text: 'Test 1',\n            done: true,\n            id: 1\n          },\n          {\n            text: 'Test 2',\n            done: true,\n            id: 2\n          },\n          {\n            text: 'Test 3',\n            done: true,\n            id: 3\n          }\n        ]);\n        break;\n    }\n  });\n};\n\nexport default $;\n","import $ from './jquery';\n\nclass ListController {\n  constructor(view, model) {\n    this.view = view;\n    this.model = model;\n  }\n\n  init() {\n    this.model\n      .all()\n      .then(\n        items => {\n          let html = '';\n\n          items.forEach((item, index) => {\n            let className = item.done ? 'done' : 'todo';\n            html += `<li class=\"${className}\" id=\"item_${index}\">${item.text}</li>`;\n          });\n\n          this.view.innerHTML = html;\n          $(this.view).on('click', '.todo', event => {\n            var element = event.target;\n            this.model\n              .completeItem(element.id)\n              .then(\n                () => {\n                  element.className = 'done';\n                }\n              );\n          }).on('click', '.done', event => {\n            var element = event.target;\n            this.model\n              .undoItem(element.id)\n              .then(() => {\n                element.className = 'todo';\n              })\n          });\n        },\n        error => {\n          this.handleError('Server failed to get todo items', error);\n        }\n      );\n  }\n\n  handleError(message) {\n    var className = 'error';\n    this.view.innerHTML += `<li class=\"${className}\">${message}</li>`;\n  }\n}\n\nexport default ListController;\n","class ListView {\n  constructor(element) {\n    return element;\n  }\n}\n\nexport default ListView;\n","import $ from './FakeAjaxCall';\n\nclass TodoModel {\n  constructor() {\n    this.items = [];\n  }\n\n  add(item) {\n    return new Promise((resolve, reject) => {\n      this.items.push({\n        text: item,\n        done: false,\n        id: this.items.length\n      });\n\n      $.ajax({\n          url: '/todo-items/add',\n          type: 'POST'\n        })\n        .then(\n          data => {\n            resolve(data);\n          },\n          xhr => {\n            reject({message: xhr.status + \": \" + xhr.responseText});\n          }\n        );\n    });\n  }\n\n  all() {\n    return new Promise((resolve, reject) => {\n        $.ajax({\n            url: '/todo-items'\n          })\n          .then(\n            data => {\n              resolve(data);\n            },\n            xhr => {\n              reject({message: xhr.status + \": \" + xhr.responseText});\n            }\n          );\n      }\n    )\n      ;\n  }\n\n  undoItem(id) {\n    return new Promise((resolve, reject) => {\n      $.ajax({\n        url: '/todo-items/undo',\n        type: 'POST'\n      })\n      .then(\n        data => {\n          resolve(data);\n        },\n        xhr => {\n          reject({message: xhr.status + \": \" + xhr.responseText});\n        }\n      )\n    });\n  }\n\n  completeItem(id) {\n    return new Promise((resolve, reject) => {\n      $.ajax({\n        url: '/todo-items/complete',\n        type: 'POST'\n      })\n      .then(\n        data => {\n          resolve(data);\n        },\n        xhr => {\n          reject({message: xhr.status + \": \" + xhr.responseText});\n        }\n      )\n    });\n  }\n}\n\nexport default TodoModel;\n","export default window.jQuery;;\n","import ListView from './ListView';\nimport TodoModel from './TodoModel';\nimport ListController from './ListController';\n\nlet oListView = new ListView(document.getElementById(\"results\"));\nlet oTodoModel = new TodoModel();\nlet oListController = new ListController(oListView, oTodoModel);\n\noListController.init();\n"]}